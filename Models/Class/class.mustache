const dbpath = './Publish/Database/{{dbName}}'
var db = require('../../sqlite.js')(dbpath) //TODO GERAR O FICHEIRO SQLITE PARA DENTRO DA PASTA PUBLISH PARA ACEDERMOS POR AQUI 

class {{classTitle}} {
    constructor ({{classProperties}}) {
        {{{classConstructor}}}
        Object.defineProperty(this, '{{idField}}', {enumerable: false});
    }

    /**
    *
    */
    all(callback){
        db.all("SELECT * FROM {{classTitle}}", {{classTitle}}, callback);
    }

    get(id, callback){
        db.all("SELECT * FROM {{classTitle}} WHERE {{idField}}", [id], {{classTitle}}, callback);
    }

    get_joins(joins, callback){
        db.all("SELECT * FROM {{classTitle}} ?", [joins], {{classTitle}}, callback);
    }



    /**
    *
    */
    get1_N(params, callback){
        db.get(SELECT {{columns}} FROM {{table}} {{{joins}}} {{{where}}});
    }

}

module.exports = {{classTitle}};
